<!doctype html><html><head><title>How convenient is the 2.1.X version of Soul Gateway? · dromara(Open source organization)</title><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="The girl on the prairie"><meta name=wwads-cn-verify content=8d5e957f297893487bd98fa830fa6413><meta name=generator content="Hugo 0.55.5"><link rel="shortcut icon" href=/img/favicon.png type=image/png><link href=https://unpkg.com/purecss@1.0.0/build/base-min.css rel=stylesheet><link href=/css/main.css rel=stylesheet><link href=/css/zoom-image.css rel=stylesheet><script src=/js/iconfont.js></script><script src=/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script><script>window.SITE_LANGUAGE="en"</script><script src=/js/app.js></script><script>var _hmt=_hmt||[];(function(){var hm=document.createElement("script");hm.src="https://hm.baidu.com/hm.js?a02cb5c75097762223d5a815a03e0a15";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script><script type=text/javascript src=https://cdn.wwads.cn/js/makemoney.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-187960192-2','auto');ga('send','pageview');}</script></head><body><header class=ss-header><nav class=navbar role=navigation aria-label="main navigation"><div class=navbar-brand><a class=logo-link href=/><img class=logo src=/img/logo/dromara.jpg></a><div class=-show-mobile><a id=mobile-menu-icon><svg class="icon" aria-hidden="true"><use xlink:href="#icon-menu"/></svg></a><nav id=mobile-menu><div id=js-menu-search-mobile class=navbar-search-mobile><input class=input placeholder=Search><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search"/></svg></div><a href=/projects/><span>Projects</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/blog/><span>Blog</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/activities/><span>Activity</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/community/><span>Community</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/awesome/><span>Awesome Dromara</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/zh/community/soul-2.1.x/><span>中文</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-transfer"/></svg></a></nav></div></div><div class="navbar-menu -hidden-mobile"><div class=navbar-start><a class=navbar-item href=/projects/>Projects</a>
<a class=navbar-item href=/blog/>Blog</a>
<a class=navbar-item href=/activities/>Activity</a>
<a class=navbar-item href=/community/>Community</a>
<a class=navbar-item href=/awesome/>Awesome Dromara</a></div><div class=navbar-end><div class=navbar-item><div id=js-menu-search class=navbar-search><input class=input placeholder=Search><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search"/></svg></div></div><div class=navbar-item><a class=translation href=/zh/community/soul-2.1.x/>中</a></div></div></div></nav></header><div class=ss-layout-container><main class="ss-layout-main -card"><div class=ss-meta><h1 class=title>How convenient is the 2.1.X version of Soul Gateway?</h1><div class=meta>2019-12-12 ·
xiaoyu ·
<span class=tags><a class=tag href=/tags/soul/ rel=tag>#Soul</a></span></div></div><article class=typo><p>It has been a year since I open sourced Soul gateway in October last year, and received many suggestions from you guys in community. It has provided very rich functions after optimization, many of functions are highly cusmized, visualized, and highly extensible, now let&rsquo;s make a summary.</p><h3 id=plugin>Plugin</h3><ul><li><p>Provides various plug-ins, such as signature, monitoring, rate limiting, circuit breaker, Http proxy, Dubbo proxy, Websocket, etc.</p></li><li><p>Support users to quickly develop plug-ins.</p></li><li><p>All plug-in data and switch state support dynamic changes.</p></li></ul><h3 id=data-synchronization>Data Synchronization</h3><ul><li>Provides three different data synchronization strategies: Http long polling, Zookeeper, and Websocket, allowing users to choose freely.</li><li>It is recommended to use Websocket, which is the lightest and more efficient in a cluster environment.</li></ul><h3 id=for-users>For Users</h3><ul><li>First of all, we provide a client package that is convenient for users to access. Users can quickly register their projects to the Soul gateway.</li><li>By default, users don&rsquo;t need to care about Soul Gateway&rsquo;s selectors, rules and other configurations.</li><li>The user&rsquo;s previous interface is completely zero intrusion, It is only need to change to the domain name of the Soul gateway.</li><li>For Dubbo users, the conversion from Http protocol to Dubbo protocol is almost completed by Http.</li><li>Soul gataway uses the Http protocol, so it is destined to be cross-language, It is feasible for .Net programmers, PHP programmers to interact with Java program.</li></ul><p>For example, if you have a Dubbo interface, the parameter definition is a java bean,</p><pre><code class=language-java>public void insert(final DubboTest dubboTest) {
}
public class DubboTest implements Serializable {
   private String id;
   private String name;
}
</code></pre><p>If you use the Soul gateway to call this method, your Http parameter is to pass a json string in the body, which is no different from a normal http call.</p><pre><code class=language-json>{&quot;id&quot;:&quot;123&quot;,&quot;name&quot;:&quot;xiaoyu&quot;}
</code></pre><h3 id=for-developers>For Developers</h3><ul><li>With more and more users, the situation of each company is different. Soul gateway in 2.1.X version are more extensible, making it convenient for developers .</li><li>For example, there are may things could be extensible, such as Plug-ins, Filters, Dubbo parameter parser, iphost parser, return results, etc. We know that the default return result of the soul gateway is:</li></ul><pre><code class=language-json>{&quot;code&quot;:200, &quot;message &quot;: &quot;成功!&quot;,&quot;data&quot; :&quot;helloWorld!&quot;}
</code></pre><p>However, when using the Soul gateway to call your business system, your business system may define the result that is not confirm the above structure. Maybe your field is called <code>msg</code>, which will cause a different structure and bring confusion to the front-end processing. We have noticed this thing: <a href=https://github.com/Dromara/soul/issues/109>https://github.com/Dromara/soul/issues/109</a>, now it has been optimized, users can customize the return results to define, the specifics depend on the Soul document.</p><h3 id=what-scenarios-of-soul-gateway-are-suitable-and-what-should-you-pay-attention-to>What scenarios of Soul gateway are suitable, and what should you pay attention to?</h3><p>First of all, I think we should follow pragmatism, when you need to use it , then you have monmentum to know it. Thus, where are you need Soul?</p><h4 id=scenario1-adimistration-back-end>Scenario1: Adimistration back-end</h4><ul><li>First of all, as rising popularity of microservices, our back-end is divided into many micro-services. I believe that your companies has a back-end management system. I guess they generally have the following architecture.</li></ul><p><img src=soul-rpc.png alt=soul-rpc></p><ul><li><p>It may cause some troubles as follows:</p><ul><li><p>The developers of every microservice are developing based on this, which will become more and more cumbersome.</p></li><li><p>How to publish without downtime? If you want to publish the commodity module, all other modules will not be able to work at this time.</p></li><li><p>If a certain module interface requires a lot of requests (multiple deployments are required), and another module does not need it, how can you split it?</p></li></ul></li><li><p>Some people may say I can disassemble them into a few web projects. But this will bring new troubles, where to do load balance? Where to do unified certification?</p></li><li><p>Soul gateway solves all the above problems very well, just register your microservice to Soul gateway. You can do whatever you want. For example, the order module has 2 nodes, and you want to release a new version, you can send request to one of them in the gateway, and update the version in the other node. When the update complete, let the request go though both two nodes. So Java programmer can also do the jod of system operation engineer.</p></li><li><p>If you need unified authentication, you only need to add an authentication plug-in suitable for your business to the gateway.</p></li></ul><p><img src=soul-admin.png alt=soul-admin></p><h3 id=scenario2-company-entrance-gateway-open-platform>Scenario2: Company entrance gateway (open platform)</h3><ul><li><p>If a company wants to do open-platform or an entrance gateway， authentication, rate limiting, circuit breaker, monitoring are indispensable.</p></li><li><p>If your company is in Dubbo system, when developers have written the Dubbo service, there is no need to add a new web project to provide an interface.</p></li><li><p>If an interface attacked by a large amount of request, how do you deal with it?</p></li><li><p>Soul is here to solve the trouble above, this is the purpose of the design. Let’s take a look at the overall architecture diagram.</p></li></ul><p><img src=soul-framework.png alt=soul-framework></p><ul><li>Soul gateway is implemented using reactive programming. Just look at the weather vane Spring, responsive programming is definitely an important direction in the future. When I was in 2014, I wrote for loop every day. The leader told me to use lambda expressions, which would be the trend of the future. Nowadays, if you are a java programmer but don&rsquo;t know lambda expression, you are out.</li></ul><p><img src=soul-framework.png alt=soul-framework></p><h3 id=there-are-many-other-functions>There are many other functions</h3><ul><li>Support websocket proxy.</li><li><p>Support file upload and download.</p></li><li><p>You can customize your plug-in development.</p></li></ul><h3 id=at-last>At last</h3><ul><li>Github: <a href=https://github.com/Dromara/soul>https://github.com/Dromara/soul</a></li><li>Gitee: <a href=https://gitee.com/dromara/soul>https://gitee.com/dromara/soul</a></li><li>Document: <a href=https://dromara.org/zh-cn/docs/soul/soul.html>https://dromara.org/zh-cn/docs/soul/soul.html</a></li><li>QQ group: 429951241</li><li>Finally, Soul3.0 has been open sourced, which has been verified in the double 11 concurrency scene for 2 years. I hope It will help you guys.</li></ul></article><div class="wwads-cn wwads-horizontal" data-id=127 style=max-width:500px></div><div class=-show-mobile><nav class=ss-pagination-next><a class=link-prev href=/community/soul-1.0.4/><span class=text>Prev:</span>
<span class=text>Soul Gateway released version 1.0.4-RELEASE</span></a>
<a class=link-next href=/community/soul-2.2.0/><span class=text>Next:</span>
<span class=text>【Soul gateway version2.2.0 release】Make high-performance gateways so easy!</span></a></nav></div></main><aside class=ss-layout-aside><div class=ss-card><h2 class=card-title>Related</h2><ul class=ss-aside-related><li><a href=/community/soul-1.0.4/>Soul Gateway released version 1.0.4-RELEASE</a></li></ul></div><div class="ss-aside-tags ss-card"><h2 class=card-title>Tag
<span class=card-extra></span></h2><ul class=tag-list><li class=tag><a href=/tags/dreamcode/>DreamCode</a></li><li class=tag><a href=/tags/dromara/>Dromara</a></li><li class=tag><a href=/tags/gateway/>GateWay</a></li><li class=tag><a href=/tags/hmily/>hmily</a></li><li class=tag><a href=/tags/reactor/>Reactor</a></li><li class=tag><a href=/tags/soul/>Soul</a></li><li class=tag><a href=/tags/tcc/>TCC</a></li></ul></div></aside></div><footer class=ss-footer><div class=container><div class=links><div class=cate><h2 class=cate-title>Resources</h2><a class=link href=https://github.com/dromara>Github</a>
<a class=link href=https://gitee.com/dromara>Gitee</a></div><div class=cate><h2 class=cate-title>Get Involved</h2><a class=link href=https://github.com/dromara/soul/issues/new>Feedback</a>
<a class=link href=/community>Community</a>
<a class=link href=/blog>Blog</a></div><div class=cate><h2 class=cate-title>Document</h2><a class=link href=/projects/hmily/overview/>Hmily</a>
<a class=link href=/projects/raincat/overview/>Raincat</a>
<a class=link href=/projects/myth/overview/>Myth</a></div></div><div class=qrcode><div><img class=qrcode-img src=/img/qrcode/qrcode_1.png><p class=qrcode-desc>Wechat Official Account</p></div><div><img class=qrcode-img src=/img/qrcode/qrcode_2.png><p class=qrcode-desc>QQ Group</p></div><div><img class=qrcode-img src=/img/qrcode/zsxq.png><p class=qrcode-desc>Knowledge Planet</p></div></div></div><div class=copyright><p>Copyright ©2021
<a href=/>@dromara. org. All Rights Reserved</a></p></div></footer></body></html>