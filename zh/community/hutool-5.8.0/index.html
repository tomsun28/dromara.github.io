<!doctype html><html><head><title>Hutool-5.8.0.M1 发布，尝试里程碑发布 · dromara(Open source organization)</title><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="The girl on the prairie"><meta name=wwads-cn-verify content=8d5e957f297893487bd98fa830fa6413><meta name=generator content="Hugo 0.55.5"><link rel="shortcut icon" href=/img/favicon.png type=image/png><link href=https://unpkg.com/purecss@1.0.0/build/base-min.css rel=stylesheet><link href=/css/main.css rel=stylesheet><link href=/css/zoom-image.css rel=stylesheet><script src=/js/iconfont.js></script><script src=/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script><script>window.SITE_LANGUAGE="zh"</script><script src=/js/app.js></script><script>var _hmt=_hmt||[];(function(){var hm=document.createElement("script");hm.src="https://hm.baidu.com/hm.js?a02cb5c75097762223d5a815a03e0a15";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script><script type=text/javascript src=https://cdn.wwads.cn/js/makemoney.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-187960192-2','auto');ga('send','pageview');}</script></head><body><header class=ss-header><nav class=navbar role=navigation aria-label="main navigation"><div class=navbar-brand><a class=logo-link href=/zh/><img class=logo src=/img/logo/dromara.jpg></a><div class=-show-mobile><a id=mobile-menu-icon><svg class="icon" aria-hidden="true"><use xlink:href="#icon-menu"/></svg></a><nav id=mobile-menu><div id=js-menu-search-mobile class=navbar-search-mobile><input class=input placeholder=请输入要搜索的关键词><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search"/></svg></div><a href=/zh/projects/><span>项目</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/zh/blog/><span>博客</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/zh/activities/><span>活动</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/zh/community/><span>社区</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/zh/awesome/><span>Awesome Dromara</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a></nav></div></div><div class="navbar-menu -hidden-mobile"><div class=navbar-start><a class=navbar-item href=/zh/projects/>项目</a>
<a class=navbar-item href=/zh/blog/>博客</a>
<a class=navbar-item href=/zh/activities/>活动</a>
<a class=navbar-item href=/zh/community/>社区</a>
<a class=navbar-item href=/zh/awesome/>Awesome Dromara</a></div><div class=navbar-end><div class=navbar-item><div id=js-menu-search class=navbar-search><input class=input placeholder=请输入要搜索的关键词><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search"/></svg></div></div><div class=navbar-item></div></div></div></nav></header><div class=ss-layout-container><main class="ss-layout-main -card"><div class=ss-meta><h1 class=title>Hutool-5.8.0.M1 发布，尝试里程碑发布</h1><div class=meta>2022-03-30 ·
hutool ·
<span class=tags><a class=tag href=/zh/tags/hutool/ rel=tag>#hutool</a></span></div></div><article class=typo><blockquote><p>Hutool是一个小而全的Java工具类库，提供优雅、高效和便捷的工具方法。</p></blockquote><h2 id=hutool是什么>Hutool是什么</h2><p><img src=/img/architecture/hutool-framework.png alt=架构全景图></p><p>本来这个版本应该是5.7.23的，可惜用户提了一些issue，这些问题的解决必须修改原有代码结构：</p><ol><li>如MongoDB客户端封装，由于其驱动本身做了不兼容修改，包装的工具类不得不进行修改。</li><li>涉及到Bean拷贝的代码部分（BeanCopier），由于一个参数失效，以为只是简单的一个bug，后来发现是整个设计有问题……崩溃程度可想而知，肝了两个晚上重构了这部分代码。</li><li>修改代码的同时才发现还有很多部分的设计有问题，顺便做了小重构。</li><li>为了解决每次大版本升级的可能带来的对老用户的影响，此次版本采用里程碑方式发布，版本为M1（感觉给用户送了颗CPU），也是解决Hutool每次“激进”升级的问题（毕竟年龄大了，要稳重）</li><li>希望购买代替捐赠，如果你希望支持下Hutool，可以去Hutool主页点-&gt;击进入周边商店购买Hutool周边来支持Hutool哦，这比捐赠实惠的多（毕竟捐赠者我不知道如何道谢，很有道德负担……）</li></ol><p>鸣谢一下此次版本一起讨论和一起解决大量issue的Hutool几位成员：</p><h2 id=阿超-cherryrum-husky>@阿超 @Cherryrum @Husky</h2><h2 id=5-8-0-m1>5.8.0.M1</h2><h3 id=不兼容特性>❌不兼容特性</h3><p>• 【db 】 【不向下兼容 】增加MongoDB4.x支持返回MongoClient变更（pr#568@Gitee）<br>• 【json 】 【可能兼容问题】修改JSONObject结构，继承自MapWrapper<br>• 【core 】 【可能兼容问题】BeanCopier重构，新建XXXCopier，删除XXXValueProvider<br>• 【core 】 【可能兼容问题】URLEncoder废弃，URLEncoderUtil使用RFC3986<br>• 【core 】 【可能兼容问题】Base32分离编码和解码，以便减少数据加载，支持Hex模式<br>• 【core 】 【可能兼容问题】Base58分离编码和解码<br>• 【core 】 【可能兼容问题】Base62分离编码和解码，增加inverted模式支持<br>• 【core 】 【兼容问题 】PunyCode参数由String改为Charsequence<br>• 【cron 】 【可能兼容问题】SimpleValueParser改名为AbsValueParser，改为abstract<br>• 【poi 】 【可能兼容问题】ExcelUtil.getBigWriter返回值改为BigExcelWriter<br>• 【core 】 【可能兼容问题】Opt.ofEmptyAble参数由List改为Collection子类（pr#580@Gitee）<br>• 【json 】 【可能兼容问题】JSON转Bean时，使用JSON本身的相关设置，而非默认（issue#2212@Github）<br>• 【json 】 【可能兼容问题】JSONConfig中isOrder废弃，默认全部有序</p><h3 id=新特性>🐣新特性</h3><p>• 【http 】 HttpRequest.form采用TableMap方式（issue#I4W427@Gitee）<br>• 【core 】 AnnotationUtil增加getAnnotationAlias方法（pr#554@Gitee）<br>• 【core 】 FileUtil.extName增加对tar.gz特殊处理（issue#I4W5FS@Gitee）<br>• 【crypto 】 增加XXTEA实现（issue#I4WH2X@Gitee）<br>• 【core 】 增加Table实现（issue#2179@Github）<br>• 【core 】 增加UniqueKeySet（issue#I4WUWR@Gitee）<br>• 【core 】 阿拉伯数字转换成中文对发票票面金额转换的扩展（pr#570@Gitee）<br>• 【core 】 ArrayUtil增加replace方法（pr#570@Gitee）<br>• 【core 】 CsvReadConfig增加自定义标题行行号（issue#2180@Github）<br>• 【core 】 FileAppender优化初始List大小（pr#2197@Github）<br>• 【core 】 Base32增加pad支持（pr#2195@Github）<br>• 【core 】 Dict增加setFields方法（pr#578@Gitee）<br>• 【db 】 新加db.meta的索引相关接口（pr#563@Gitee）<br>• 【db 】 Oracle中Column#typeName后的长度去掉（pr#563@Gitee）<br>• 【poi 】 优化ExcelReader，采用只读模式（pr#2204@Gitee）<br>• 【poi 】 优化ExcelBase，将alias放入<br>• 【poi 】 优化ExcelBase，将alias放入<br>• 【core 】 改进StrUtil#startWith、endWith性能<br>• 【cron 】 增加CronPatternParser、MatcherTable<br>• 【http 】 GlobalHeaders增加系统属性allowUnsafeServerCertChange、allowUnsafeRenegotiation<br>• 【http 】 UserAgentUtil 解析，增加MiUI/XiaoMi浏览器判断逻辑（pr#581@Gitee）<br>• 【core 】 FileAppender添加锁构造（pr#2211@Github）<br>• 【poi 】 ExcelReader增加构造（pr#2213@Github）<br>• 【core 】 MapUtil提供change函数，EnumUtil提供getBy函数，通过lambda进行枚举字段映射（pr#583@Gitee）<br>• 【core 】 CompareUtil增加comparingIndexed（pr#585@Gitee）<br>• 【db 】 DruidDataSource构建时支持自定义参数（issue#I4ZKCW@Gitee）<br>• 【poi 】 ExcelWriter增加addImg重载（issue#2218@Github）<br>• 【bloomFilter】 增加FuncFilter<br>• 【http 】 增加GlobalInterceptor（issue#2217）</p><h3 id=bug修复>🐞Bug修复</h3><p>• 【core 】 修复ObjectUtil.hasNull传入null返回true的问题（pr#555@Gitee）<br>• 【core 】 修复NumberConverter对数字转换的问题（issue#I4WPF4@Gitee）<br>• 【core 】 修复ReflectUtil.getMethods获取接口方法问题（issue#I4WUWR@Gitee）<br>• 【core 】 修复NamingCase中大写转换问题（pr#572@Gitee）<br>• 【http 】 修复GET重定向时，携带参数问题（issue#2189@Github）<br>• 【core 】 修复FileUtil、FileCopier相对路径获取父路径错误问题（pr#2188@Github）<br>• 【core 】 修复CopyOptions中fieldNameEditor无效问题（issue#2202@Github）<br>• 【json 】 修复JSON对Map.Entry的解析问题<br>• 【core 】 修复MapConverter中map与map转换兼容问题<br>• 【poi 】 解决sax读取时，POI-5.2.x兼容性问题<br>• 【core 】 修复判断两段时间区间交集问题（pr#2210@Github）<br>• 【http 】 修复标签误删问题（issue#I4Z7BV@Gitee）<br>• 【core 】 修复Win下文件名带*问题（pr#584@Gitee）<br>• 【core 】 FileUtil.getMimeType增加rar、7z支持（issue#I4ZBN0@Gitee）<br>• 【json 】 JSON修复transient设置无效问题（issue#2212@Github）<br>• 【core 】 修复IterUtil.getElementType获取结果为null的问题（issue#2222@Github）<br>• 【core 】 修复农历转公历在闰月时错误（issue#I4ZSGJ@Gitee）</p><h2 id=社区共建>社区共建</h2><p>我们秉承<code>和谐快乐</code>，<code>代码至上</code> 的原则，如果你有想法，愿意和我们一起成长，一起贡献，快来加入我们吧！</p><ul><li>github：<a href=https://github.com/dromara/hutool>https://github.com/dromara/hutool</a><br></li><li>gitee：<a href=https://gitee.com/dromara/hutool>https://gitee.com/dromara/hutool</a><br></li></ul></article><div class="wwads-cn wwads-horizontal" data-id=127 style=max-width:500px></div><div class=-show-mobile><nav class=ss-pagination-next><a class=link-prev href=/zh/community/hmily-2.1.1/><span class=text>上一篇:</span>
<span class=text>时隔一年，dromara团队发布全新架构Hmily分布式事务的2.1.1版本</span></a></nav></div></main><aside class=ss-layout-aside><div class="ss-aside-tags ss-card"><h2 class=card-title>标签
<span class=card-extra></span></h2><ul class=tag-list><li class=tag><a href=/zh/tags/dreamcode/>DreamCode</a></li><li class=tag><a href=/zh/tags/dromara/>Dromara</a></li><li class=tag><a href=/zh/tags/gateway/>GateWay</a></li><li class=tag><a href=/zh/tags/hmily/>hmily</a></li><li class=tag><a href=/zh/tags/hutool/>hutool</a></li><li class=tag><a href=/zh/tags/reactor/>Reactor</a></li><li class=tag><a href=/zh/tags/soul/>Soul</a></li><li class=tag><a href=/zh/tags/tcc/>TCC</a></li></ul></div></aside></div><footer class=ss-footer><div class=container><div class=links><div class=cate><h2 class=cate-title>资源</h2><a class=link href=https://github.com/dromara>Github</a>
<a class=link href=https://gitee.com/dromara>Gitee</a></div><div class=cate><h2 class=cate-title>参与进来</h2><a class=link href=https://github.com/dromara/soul/issues/new>反馈</a>
<a class=link href=/zh/community>社区</a>
<a class=link href=/zh/blog>博客</a></div><div class=cate><h2 class=cate-title>文档</h2><a class=link href=/zh/projects/hmily/overview/>Hmily</a>
<a class=link href=/zh/projects/raincat/overview/>Raincat</a>
<a class=link href=/zh/projects/myth/overview/>Myth</a></div></div><div class=qrcode><div><img class=qrcode-img src=/img/qrcode/qrcode_1.png><p class=qrcode-desc>微信公众号</p></div><div><img class=qrcode-img src=/img/qrcode/qrcode_2.png><p class=qrcode-desc>QQ群</p></div><div><img class=qrcode-img src=/img/qrcode/zsxq.png><p class=qrcode-desc>知识星球</p></div></div></div><div class=copyright><p>Copyright ©2021
<a href=/>@dromara. org. All Rights Reserved</a></p></div></footer></body></html>